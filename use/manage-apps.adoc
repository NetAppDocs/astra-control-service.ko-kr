---
sidebar: sidebar 
permalink: use/manage-apps.html 
keywords: manage app, discover app, ignore app 
summary: 'Kubernetes 클러스터를 Astra Control에 추가한 후에는 해당 클러스터(Astra Control 외부)에 앱을 설치한 다음, Astra Control의 앱 페이지로 이동하여 앱 관리를 시작할 수 있습니다.' 
---
= 앱 관리를 시작합니다
:hardbreaks:
:allow-uri-read: 
:icons: font
:imagesdir: ../media/use/


먼저 해 link:../get-started/add-first-cluster.html["Astra Control에 Kubernetes 클러스터를 추가합니다"], 클러스터(Astra Control 외부)에 앱을 설치한 다음 Astra Control의 앱 페이지로 이동하여 앱 관리를 시작할 수 있습니다.



== 설명합니다

Astra Control에는 다음과 같은 앱 관리 요구 사항이 있습니다.

* * 라이선스 *: Astra Control Center를 사용하여 앱을 관리하려면 Astra Control Center 라이센스가 필요합니다.
* * Namespaces *: Astra Control은 앱이 단일 네임스페이스 이상의 범위를 포괄하지 않도록 하지만 네임스페이스에는 여러 개의 앱이 포함될 수 있습니다.
* * StorageClass *: StorageClass가 명시적으로 설정된 앱을 설치하고 앱을 복제해야 하는 경우 클론 작업의 타겟 클러스터에 원래 지정된 StorageClass가 있어야 합니다. 명시적으로 StorageClass를 동일한 StorageClass가 없는 클러스터로 설정한 애플리케이션을 클론 복제하면 실패합니다.
* * Kubernetes 리소스 *: Astra Control에서 수집하지 않은 Kubernetes 리소스를 사용하는 앱에는 전체 앱 데이터 관리 기능이 없을 수 있습니다. Astra Control은 다음과 같은 Kubernetes 리소스를 수집합니다.


[cols="1,1,1"]
|===


| 클러스터 역할 | ClusterRoleBinding 을 참조하십시오 | ConfigMap을 클릭합니다 


| 사용자 지정 리소스 정의 | CustomResource 를 선택합니다 | 경작업 


| DemonSet | HorizontalPodAutoscaler | 침투 


| DeploymentConfig(배포 구성 | 뮤atingWebhook | PersistentVolumeClaim 


| 포드 | 팟캐스트 예산 | 팟캐스트 템플릿 


| 네트워크 정책 | ReplicaSet입니다 | 역할 


| RoleBinding 을 클릭합니다 | 루트 | 비밀 


| 서비스 | 서비스 계정 | StatefulSet 을 선택합니다 


| Webhook을 확인합니다 |  |  
|===


=== 지원되는 앱 설치 방법

다음 방법을 사용하여 Astra Control로 관리하려는 앱을 설치할 수 있습니다.

* * 매니페스트 파일 *: Astra Control은 kubctl을 사용하여 매니페스트 파일에서 설치된 앱을 지원합니다. 예를 들면 다음과 같습니다.
+
[source, sh]
----
kubectl apply -f myapp.yaml
----
* * Helm 3 *: Helm을 사용하여 앱을 설치하는 경우 Astra Control에 Helm 버전 3이 필요합니다. Helm 3(또는 Helm 2에서 Helm 3으로 업그레이드)과 함께 설치된 앱의 관리 및 클론 생성이 완벽하게 지원됩니다. Helm 2가 설치된 앱 관리는 지원되지 않습니다.
* * 운용자 구축 앱 *: Astra Control은 네임스페이스 범위 연산자로 설치된 앱을 지원합니다. 일반적으로 "pass-by-reference" 아키텍처가 아니라 "pass-by-value"로 설계되었습니다. 운영자와 설치하는 앱은 동일한 네임스페이스를 사용해야 합니다. 운영자가 배포 .YAML 파일을 수정해야 할 수도 있습니다.
+
다음은 이러한 패턴을 따르는 일부 운영자 앱에 대한 설명입니다.

+
** https://github.com/k8ssandra/cass-operator/tree/v1.7.1["아파치 K8ssandra"^]
+

NOTE: K8ssandra 의 경우 현재 위치 복원 작업이 지원됩니다. 새 네임스페이스 또는 클러스터에 대한 복원 작업을 수행하려면 응용 프로그램의 원래 인스턴스를 중단해야 합니다. 이는 이월된 피어 그룹 정보가 인스턴스 간 통신으로 이어지지 않도록 하기 위한 것입니다. 앱 복제는 지원되지 않습니다.

** https://github.com/jenkinsci/kubernetes-operator["젠킨스 CI"^]
** https://github.com/percona/percona-xtradb-cluster-operator["Percona XtraDB 클러스터"^]




Astra Control은 "pass-by-reference" 아키텍처(예: CockroachDB 운영자)로 설계된 운영자를 복제하지 못할 수 있습니다. 이러한 유형의 클론 복제 작업 중에 클론 복제 운영자는 클론 복제 프로세스의 일부로 고유한 새로운 암호가 있음에도 불구하고 소스 운영자의 Kubernetes 암호를 참조하려고 합니다. Astra Control이 소스 운영자의 Kubernetes 암호를 모르기 때문에 클론 작업이 실패할 수 있습니다.



== 클러스터에 앱을 설치합니다

먼저 해 link:../get-started/add-first-cluster.html["클러스터가 추가되었습니다"] Astra Control은 클러스터에서 앱을 설치하거나 기존 앱을 관리할 수 있습니다. 단일 네임스페이스로 범위가 지정된 모든 앱을 관리할 수 있습니다.

Astra Control은 스토리지가 Astra Control에서 설치한 스토리지 클래스에 있는 경우에만 상태 저장 앱을 관리합니다.

ifdef::gcp[]

* link:../learn/choose-class-and-size.html["GKE 클러스터용 저장소 클래스에 대해 알아봅니다"]


endif::gcp[]

ifdef::azure[]

* link:../learn/azure-storage.html["AKS 클러스터용 스토리지 클래스에 대해 알아보십시오"]


endif::azure[]

ifdef::aws[]

* link:../learn/aws-storage.html["AWS 클러스터를 위한 스토리지 클래스에 대해 알아보십시오"]


endif::aws[]



== 앱 관리

Astra Control이 클러스터에서 네임스페이스를 검색한 후 관리할 애플리케이션을 정의할 수 있습니다. 선택할 수 있습니다 link:../learn/app-management.html["전체 네임스페이스를 단일 애플리케이션으로 관리하거나 네임스페이스에서 개별적으로 하나 이상의 앱을 관리합니다"]. 데이터 보호 작업에 필요한 세분화 수준으로 세분화됩니다.

Astra Control을 사용하면 계층 구조의 수준(네임스페이스 및 해당 네임스페이스의 앱)을 모두 개별적으로 관리할 수 있지만 가장 좋은 방법은 하나 또는 다른 수준을 선택하는 것입니다. 작업이 네임스페이스 및 앱 수준에서 동시에 발생하면 Astra Control에서 수행하는 작업이 실패할 수 있습니다.


TIP: 예를 들어, "Maria"에 대해 주간 백업 주기를 갖는 백업 정책을 설정할 수 있지만 "MariaDB"(동일한 네임스페이스)를 더 자주 백업해야 할 수 있습니다. 이러한 요구사항에 따라 단일 네임스페이스 앱이 아니라 앱을 별도로 관리해야 합니다.

.무엇을 &#8217;필요로 할거야
* Astra Control에 Kubernetes 클러스터가 추가되었습니다.
* 클러스터에 설치된 애플리케이션 하나 이상  app installation methods,지원되는 앱 설치 방법에 대해 자세히 알아보십시오.
* 하나 이상의 활성 포드.
* Astra Control에 추가한 Kubernetes 클러스터에 지정된 네임스페이스입니다.
* (선택 사항) 모든 Kubernetes 레이블 link:../use/manage-apps.html#app-management-requirements["지원되는 Kubernetes 리소스"].
+

TIP: 레이블은 식별을 위해 Kubernetes 객체에 할당할 수 있는 키/값 쌍입니다. 레이블을 사용하면 Kubernetes 오브젝트를 더 쉽게 정렬, 구성 및 찾을 수 있습니다. Kubernetes 레이블에 대해 자세히 알아보려면 https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/["Kubernetes 공식 문서를 참조하십시오"^].



시작하기 전에, 또한 이해해야 합니다 link:../use/manage-apps.html#what-about-system-namespaces["표준 및 시스템 네임스페이스 관리"]. Astra Control API를 사용하여 앱을 관리하는 방법에 대한 지침은 를 참조하십시오 link:https://docs.netapp.com/us-en/astra-automation/["Astra 자동화 및 API 정보"^].

.애플리케이션 관리 옵션
*  resources to manage as an app
*  a namespace to manage as an app




=== 앱으로 관리할 리소스를 정의합니다

를 지정할 수 있습니다 link:../learn/app-management.html["앱을 구성하는 Kubernetes 리소스"] Astra Control을 통해 관리하고자 하는 것입니다. 앱을 정의하면 Kubernetes 클러스터의 요소를 단일 애플리케이션으로 그룹화할 수 있습니다. 이 Kubernetes 리소스 모음은 네임스페이스 및 레이블 선택기 기준에 따라 구성됩니다.

앱을 정의하면 클론, 스냅샷, 백업을 비롯한 Astra Control 작업에 포함할 항목을 보다 세부적으로 제어할 수 있습니다.


WARNING: 앱을 정의할 때 보호 정책이 있는 여러 앱에 Kubernetes 리소스를 포함하지 않아야 합니다. Kubernetes 리소스의 보호 정책이 중복되어 데이터 충돌이 발생할 수 있습니다.

.단계
. 응용 프로그램 페이지에서 * 정의 * 를 선택합니다.
. 응용 프로그램 정의 * 창에서 응용 프로그램 이름을 입력합니다.
. 응용 프로그램이 실행되는 클러스터를 * 클러스터 * 드롭다운 목록에서 선택합니다.
. Namespace* 드롭다운 목록에서 응용 프로그램의 네임스페이스를 선택합니다.
+

NOTE: 앱은 단일 클러스터에서 지정된 네임스페이스 내에서만 정의할 수 있습니다. Astra Control은 앱이 여러 네임스페이스 또는 클러스터를 확장하는 기능을 지원하지 않습니다.

. 앱 및 네임스페이스의 레이블을 입력합니다. 단일 레이블 또는 레이블 선택 조건(쿼리)을 지정할 수 있습니다.
+

TIP: Kubernetes 레이블에 대해 자세히 알아보려면 https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/["Kubernetes 공식 문서를 참조하십시오"^].

. 정의 * 를 선택한 후 필요에 따라 다른 앱에 대해 프로세스를 반복합니다.


앱 정의를 마치면 응용 프로그램 페이지의 앱 목록에 앱이 나타납니다. 이제 클론을 생성하고 백업과 스냅샷을 생성할 수 있습니다.


NOTE: 방금 추가한 앱에는 Protected(보호) 열 아래에 백업이 없고 아직 백업이 예약되지 않았음을 나타내는 경고 아이콘이 있을 수 있습니다.


TIP: 특정 앱의 세부 정보를 보려면 앱 이름을 선택합니다.



=== 앱으로 관리할 네임스페이스를 정의합니다

네임스페이스의 리소스를 애플리케이션으로 정의하여 Astra Control 관리에 네임스페이스의 모든 Kubernetes 리소스를 추가할 수 있습니다. 이 방법은 특정 네임스페이스의 모든 리소스를 비슷한 방식으로 일정한 간격으로 관리하고 보호하려는 경우 앱을 개별적으로 정의하는 것이 좋습니다.

.단계
. 클러스터 페이지에서 클러스터를 선택합니다.
. Namespaces* 탭을 선택합니다.
. 관리하려는 앱 리소스가 포함된 네임스페이스의 작업 메뉴를 선택하고 * 응용 프로그램으로 정의 * 를 선택합니다.
+

TIP: 여러 네임스페이스를 관리하려면 네임스페이스를 선택하고 왼쪽 위 모서리에 있는 * Actions * 버튼을 선택하고 * manage * 를 선택합니다.

+

NOTE: 기본적으로 앱 관리에 사용되지 않는 시스템 네임스페이스를 표시하려면 * Show system namespaces * 확인란을 선택합니다. image:acc_namespace_system.png["Namespaces 탭에서 사용할 수 있는 * Show system namespaces * 옵션을 보여 주는 스크린샷"] link:../use/manage-apps.html#what-about-system-namespaces["자세히 보기"].



프로세스가 완료되면 해당 네임스페이스와 연결된 응용 프로그램이 '연결된 응용 프로그램' 열에 나타납니다.



== 시스템 네임스페이스는 어떻습니까?

Astra Control은 Kubernetes 클러스터에서 시스템 네임스페이스를 검색합니다. 기본적으로 이러한 시스템 네임스페이스는 표시되지 않습니다. 시스템 앱 리소스를 백업해야 하는 경우는 드뭅니다.

선택한 클러스터의 Namespaces 탭에서 * Show system namespaces * 확인란을 선택하여 시스템 네임스페이스를 표시할 수 있습니다.

image:acc_namespace_system.png["Namespaces 탭에서 사용할 수 있는 * Show system namespaces * 옵션을 보여 주는 스크린샷"]


TIP: Astra Control 자체는 표준 앱이 아니며 "시스템 앱"입니다. Astra Control 자체를 관리하려고 해서는 안 됩니다. 관리 시 Astra Control 자체는 기본적으로 표시되지 않습니다.
