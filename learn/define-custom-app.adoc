---
sidebar: sidebar 
permalink: learn/define-custom-app.html 
keywords: custom app, labels, kubernetes labels, kubernetes resources, pods, define custom app 
summary: 사용자 지정 앱을 생성하면 Kubernetes 클러스터의 요소를 단일 앱으로 그룹화할 수 있습니다. 
---
= 사용자 지정 앱을 정의합니다
:hardbreaks:
:allow-uri-read: 
:icons: font
:imagesdir: ../media/learn/


[role="lead"]
사용자 지정 앱을 생성하면 Kubernetes 클러스터의 요소를 단일 앱으로 그룹화할 수 있습니다.

사용자 지정 앱을 사용하면 다음을 비롯하여 Astra Control 작업에 포함할 항목을 보다 세부적으로 제어할 수 있습니다.

* 복제
* 스냅샷
* 백업
* 보호 정책


대부분의 경우 전체 앱에서 Astra Control의 기능을 사용해야 합니다. 그러나 사용자 지정 앱을 만들어 네임스페이스에서 Kubernetes 개체에 할당하는 레이블을 통해 이러한 기능을 사용할 수도 있습니다.

사용자 지정 앱을 만들려면 앱 페이지로 이동하여** + 사용자 지정 앱 정의** 를 선택합니다.

사용자 지정 앱을 선택하면 사용자 지정 앱 창에 사용자 지정 앱에서 포함 또는 제외할 리소스가 표시됩니다. 이렇게 하면 사용자 지정 앱을 정의하는 올바른 기준을 선택할 수 있습니다.

image:custom-app-included-not-included.png["사용자 지정 앱에 포함할 리소스와 포함되지 않을 리소스를 보여 주는 사용자 지정 앱 정의 팝업 창의 스크린샷"]

위의 예에서는 사용자 지정 앱에 리소스(dedcment:canary로 표시된 POD 'nginx-pod0'이 포함됩니다. 2개의 포드가 제외된다(니긴x-POD, 니긴x-pod2, 둘 다 '구축:안정적'이라고 표시됨).


NOTE: 맞춤형 앱은 단일 클러스터의 지정된 네임스페이스 내에서만 생성할 수 있습니다. Astra Control은 사용자 지정 응용 프로그램이 여러 네임스페이스 또는 클러스터를 확장하는 기능을 지원하지 않습니다.

레이블은 식별을 위해 Kubernetes 객체에 할당할 수 있는 키/값 쌍입니다. 레이블을 사용하면 Kubernetes 오브젝트를 더 쉽게 정렬, 구성 및 찾을 수 있습니다. Kubernetes 레이블에 대해 자세히 알아보려면 https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/["Kubernetes 공식 문서를 참조하십시오"].


WARNING: 이름이 다른 동일한 리소스에 대해 정책을 중복하면 데이터 충돌이 발생할 수 있습니다. 리소스에 대한 사용자 지정 앱을 만드는 경우 다른 정책에 따라 복제되거나 백업되지 않도록 해야 합니다.



== 예: Canary 릴리즈에 대한 별도의 보호 정책

이 예제에서 DevOps 팀은 카나리아 릴리스 배포를 관리합니다. 그들의 클러스터에는 Nginx를 실행하는 3개의 포드가 있습니다. 포드 중 2개는 안정적인 릴리스 전용입니다. 세 번째 포드는 카나리 해제 시 사용합니다.

팀의 Kubernetes 관리자가 안정적인 릴리스 포드에 '구 = 안정적'이라는 레이블을 추가합니다. 또한 관리자는 'duement=canary' 레이블을 카나리아 릴리즈 포드에 추가합니다.

image:show-pods-labels.png["3개의 Pod에 Kubernetes 레이블을 보여 주는 'kubbeck get Pod --namespace=nginx-app- show-labels'를 실행한 결과의 스크린샷"]

이 팀의 안정적인 릴리즈에는 시간별 스냅샷 및 일일 백업에 대한 요구 사항이 포함됩니다. 카나리아 릴리스는 수명이 길기 때문에 '구축=카나리'라고 표시된 모든 것에 대해 공격적이고 단기적인 보호 정책을 만들고자 합니다.

데이터 충돌을 방지하기 위해 관리자는 Canary 릴리스용 응용 프로그램과 안정적인 릴리스에 대한 사용자 지정 응용 프로그램 두 개를 만듭니다. 이렇게 하면 두 Kubernetes 객체 그룹에 대해 백업, 스냅샷 및 클론 작업이 분리됩니다.

관리자가 Astra Control에 클러스터를 추가한 후 다음 단계는 사용자 지정 앱을 정의하는 것입니다. 이렇게 하려면 관리자가 앱 페이지에서** + 사용자 정의 앱 정의** 버튼을 선택합니다.

팝업 창이 나타나면 관리자는 'Device-Canary-deployment'를 앱 이름으로 설정합니다. 그런 다음 관리자는** 클러스터** 드롭다운에서 클러스터를 선택한 다음** 네임스페이스** 드롭다운에서 해당 앱의 네임스페이스를 선택합니다.

이 시점에서 관리자는** Labels** 필드에 duekment=canary를 입력하거나 아래 나열된 리소스에서 해당 레이블을 선택할 수 있습니다.

Canary 배포에 대한 사용자 지정 앱을 정의한 후 관리자는 안정적인 배포에 대한 프로세스를 반복합니다.

두 개의 사용자 지정 앱을 생성한 후 관리자는 이러한 리소스를 다른 Astra Control 애플리케이션으로 처리할 수 있습니다. 관리자는 Kubernetes 레이블을 기반으로 리소스를 클론 복제하고, 백업과 스냅샷을 생성하고, 각 리소스 그룹에 대한 사용자 지정 보호 정책을 생성할 수 있습니다.
